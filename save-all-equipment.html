<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üè• –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–µ–¥–∏—á–Ω–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è PNG</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        .instructions {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #2196F3;
            margin-bottom: 30px;
        }
        .instructions h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        .instructions ol {
            margin-left: 20px;
        }
        .instructions li {
            margin: 8px 0;
            line-height: 1.6;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .item {
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            background: #fafafa;
            transition: all 0.3s ease;
        }
        .item:hover {
            border-color: #667eea;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
            transform: translateY(-5px);
        }
        .item h3 {
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .item-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
        }
        .upload-area {
            border: 2px dashed #bbb;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        .upload-area:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }
        .upload-area.has-file {
            border-color: #4caf50;
            background: #e8f5e9;
        }
        input[type="file"] {
            display: none;
        }
        .preview {
            max-width: 100%;
            margin: 15px 0;
            text-align: center;
        }
        .preview img {
            max-width: 100%;
            max-height: 200px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        button {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .success {
            background: #c8e6c9;
            color: #2e7d32;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }
        .success.show {
            display: flex;
        }
        .final-step {
            background: #fff3e0;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid #ff9800;
            margin-top: 30px;
        }
        .final-step h3 {
            color: #f57c00;
            margin-bottom: 15px;
        }
        .code-block {
            background: #263238;
            color: #aed581;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .progress {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        .progress-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .progress-item.done {
            background: #4caf50;
            color: white;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 1.8em;
            }
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè• –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –º–µ–¥–∏—á–Ω–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è</h1>
        <p class="subtitle">–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –∑–±–µ—Ä–µ–∂—ñ—Ç—å –≤—Å—ñ 5 PNG –∑–æ–±—Ä–∞–∂–µ–Ω—å</p>
        
        <div class="instructions">
            <h3>üìã –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:</h3>
            <ol>
                <li>–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å –∫–æ–∂–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–º—É –ø–æ–ª—ñ</li>
                <li>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "üíæ –ó–±–µ—Ä–µ–≥—Ç–∏" –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</li>
                <li>–§–∞–π–ª–∏ –±—É–¥—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ —É –≤–∞—à—É –ø–∞–ø–∫—É Downloads</li>
                <li>–°–∫–æ–ø—ñ—é–π—Ç–µ —ó—Ö —É –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç—É (—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤–Ω–∏–∑—É)</li>
                <li>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä - –≥–æ—Ç–æ–≤–æ!</li>
            </ol>
        </div>

        <div class="progress">
            <div class="progress-item" id="progress-1">1</div>
            <div class="progress-item" id="progress-2">2</div>
            <div class="progress-item" id="progress-3">3</div>
            <div class="progress-item" id="progress-4">4</div>
            <div class="progress-item" id="progress-5">5</div>
        </div>

        <div class="grid">
            <!-- Hospital Bed 1 -->
            <div class="item">
                <h3><span class="item-number">1</span> üõèÔ∏è Hospital Bed 1</h3>
                <div class="upload-area" onclick="document.getElementById('bed1').click()">
                    <p>üì§ –ö–ª—ñ–∫–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å<br>–ª—ñ–∂–∫–æ –∑ —Å–∏–Ω—ñ–º–∏ –ø–æ—Ä—É—á–Ω—è–º–∏</p>
                </div>
                <input type="file" id="bed1" accept="image/*">
                <div class="preview" id="preview1"></div>
                <button id="btn1" onclick="saveImage('bed1', 'hospital-bed-1.png', 1)" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ hospital-bed-1.png
                </button>
            </div>

            <!-- Hospital Bed 2 -->
            <div class="item">
                <h3><span class="item-number">2</span> üõèÔ∏è Hospital Bed 2</h3>
                <div class="upload-area" onclick="document.getElementById('bed2').click()">
                    <p>üì§ –ö–ª—ñ–∫–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å<br>—Å–≤—ñ—Ç–ª—ñ—à–µ –ª—ñ–∂–∫–æ</p>
                </div>
                <input type="file" id="bed2" accept="image/*">
                <div class="preview" id="preview2"></div>
                <button id="btn2" onclick="saveImage('bed2', 'hospital-bed-2.png', 2)" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ hospital-bed-2.png
                </button>
            </div>

            <!-- Oxygen Cylinder -->
            <div class="item">
                <h3><span class="item-number">3</span> ‚öïÔ∏è Oxygen Cylinder</h3>
                <div class="upload-area" onclick="document.getElementById('oxygen').click()">
                    <p>üì§ –ö–ª—ñ–∫–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å<br>–∫–∏—Å–Ω–µ–≤–∏–π –±–∞–ª–æ–Ω</p>
                </div>
                <input type="file" id="oxygen" accept="image/*">
                <div class="preview" id="preview3"></div>
                <button id="btn3" onclick="saveImage('oxygen', 'oxygen-cylinder.png', 3)" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ oxygen-cylinder.png
                </button>
            </div>

            <!-- Mini Fridge -->
            <div class="item">
                <h3><span class="item-number">4</span> üßä Mini Fridge</h3>
                <div class="upload-area" onclick="document.getElementById('fridge').click()">
                    <p>üì§ –ö–ª—ñ–∫–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å<br>–º—ñ–Ω—ñ-—Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</p>
                </div>
                <input type="file" id="fridge" accept="image/*">
                <div class="preview" id="preview4"></div>
                <button id="btn4" onclick="saveImage('fridge', 'mini-fridge.png', 4)" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ mini-fridge.png
                </button>
            </div>

            <!-- Oxygen Concentrator -->
            <div class="item">
                <h3><span class="item-number">5</span> üí® Oxygen Concentrator</h3>
                <div class="upload-area" onclick="document.getElementById('purifier').click()">
                    <p>üì§ –ö–ª—ñ–∫–Ω—ñ—Ç—å –∞–±–æ –ø–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å<br>–æ—á–∏—â—É–≤–∞—á –ø–æ–≤—ñ—Ç—Ä—è MAOXYA5</p>
                </div>
                <input type="file" id="purifier" accept="image/*">
                <div class="preview" id="preview5"></div>
                <button id="btn5" onclick="saveImage('purifier', 'air-purifier.png', 5)" disabled>
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ air-purifier.png
                </button>
            </div>
        </div>

        <div class="success" id="success">
            <span style="font-size: 24px;">‚úÖ</span>
            <span id="successMsg">–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!</span>
        </div>

        <div class="final-step">
            <h3>üöÄ –û—Å—Ç–∞–Ω–Ω—ñ–π –∫—Ä–æ–∫: –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª–∏</h3>
            <p style="margin-bottom: 15px;">–ü—ñ—Å–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö 5 —Ñ–∞–π–ª—ñ–≤, —Å–∫–æ–ø—ñ—é–π—Ç–µ —ó—Ö —É –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç—É:</p>
            
            <div class="code-block">
# –í—ñ–¥–∫—Ä–∏–π—Ç–µ PowerShell —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:<br>
cd c:\infimary-3d-overlay\public\images<br>
<br>
# –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª–∏ –∑ Downloads<br>
Copy-Item "$env:USERPROFILE\Downloads\hospital-bed-1.png" -Destination . -Force<br>
Copy-Item "$env:USERPROFILE\Downloads\hospital-bed-2.png" -Destination . -Force<br>
Copy-Item "$env:USERPROFILE\Downloads\oxygen-cylinder.png" -Destination . -Force<br>
Copy-Item "$env:USERPROFILE\Downloads\mini-fridge.png" -Destination . -Force<br>
Copy-Item "$env:USERPROFILE\Downloads\air-purifier.png" -Destination . -Force<br>
<br>
# –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä—ñ SVG (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)<br>
Remove-Item *.svg -Force<br>
<br>
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç<br>
cd ..\..<br>
npm start
            </div>

            <p style="margin-top: 15px; color: #666;">
                <strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:</strong> –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª–∏ –∑ Downloads —É 
                <code>c:\infimary-3d-overlay\public\images\</code> –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ File Explorer.
            </p>
        </div>
    </div>

    <script>
        // Setup file inputs
        ['bed1', 'bed2', 'oxygen', 'fridge', 'purifier'].forEach((id, index) => {
            const input = document.getElementById(id);
            const previewId = `preview${index + 1}`;
            const btnId = `btn${index + 1}`;
            
            input.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                // Show preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById(previewId);
                    preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                    
                    // Enable button
                    document.getElementById(btnId).disabled = false;
                    
                    // Update upload area
                    input.parentElement.classList.add('has-file');
                };
                reader.readAsDataURL(file);
            });

            // Drag and drop
            const uploadArea = input.parentElement;
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#667eea';
                uploadArea.style.background = '#f5f7ff';
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.borderColor = '#bbb';
                uploadArea.style.background = 'white';
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#bbb';
                uploadArea.style.background = 'white';
                
                const file = e.dataTransfer.files[0];
                if (file) {
                    input.files = e.dataTransfer.files;
                    input.dispatchEvent(new Event('change'));
                }
            });
        });

        function saveImage(inputId, filename, number) {
            const input = document.getElementById(inputId);
            const file = input.files[0];
            
            if (!file) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–æ—á–∞—Ç–∫—É!');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    
                    // Optimize size (max 1200px)
                    const maxSize = 1200;
                    let width = img.width;
                    let height = img.height;
                    
                    if (width > maxSize || height > maxSize) {
                        if (width > height) {
                            height = (height / width) * maxSize;
                            width = maxSize;
                        } else {
                            width = (width / height) * maxSize;
                            height = maxSize;
                        }
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    ctx.drawImage(img, 0, 0, width, height);
                    
                    // Convert to PNG and download
                    canvas.toBlob(function(blob) {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = filename;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                        
                        // Show success
                        const success = document.getElementById('success');
                        const successMsg = document.getElementById('successMsg');
                        successMsg.textContent = `${filename} –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ Downloads!`;
                        success.classList.add('show');
                        
                        // Update progress
                        document.getElementById(`progress-${number}`).classList.add('done');
                        
                        // Hide after 3 seconds
                        setTimeout(() => {
                            success.classList.remove('show');
                        }, 3000);
                        
                        // Check if all done
                        const allDone = document.querySelectorAll('.progress-item.done').length === 5;
                        if (allDone) {
                            setTimeout(() => {
                                successMsg.textContent = 'üéâ –í—Å—ñ —Ñ–∞–π–ª–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ! –¢–µ–ø–µ—Ä —Å–∫–æ–ø—ñ—é–π—Ç–µ —ó—Ö —É –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç—É.';
                                success.classList.add('show');
                            }, 3500);
                        }
                    }, 'image/png', 0.95);
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    </script>
</body>
</html>
